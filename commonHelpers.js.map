{"version":3,"file":"commonHelpers.js","sources":["../src/js/cat-api.js","../src/index.js"],"sourcesContent":["import axios from 'axios';\n\naxios.defaults.baseURL = 'https://api.thecatapi.com/v1/';\naxios.defaults.headers.common['x-api-key'] =\n  'live_IkTNNDEEFztCZXmmf7CnL0I4gvGXL6SaBwJ1LTvmSFQVrnXatzLon3CvBCLPLMA';\n\nexport function fetchBreeds() {\n  return axios\n    .get('breeds')\n    .then(resp => resp.data)\n    .catch(err => {\n      console.log(err);\n      throw err;\n    });\n}\n\nexport function fetchCatByBreed(breedId) {\n  return axios\n    .get(`/images/${breedId}`)\n    .then(resp => resp)\n    .catch(err => console.log(err));\n}\n","import { fetchBreeds, fetchCatByBreed } from './js/cat-api';\nimport iziToast from 'izitoast';\nimport SlimSelect from 'slim-select';\n\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst breedSelect = document.querySelector('.breed-select');\nconst catInfo = document.querySelector('.cat-info');\nconst loader = document.querySelector('.loader-text');\n\nconst toggleVisibility = (element, show) => {\n  element.classList.toggle('hidden', !show);\n};\n\ntoggleVisibility(breedSelect, false);\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  fetchBreeds()\n    .then(data => {\n      data.forEach(element => {\n        const option = document.createElement('option');\n        option.value = element.reference_image_id;\n        option.textContent = element.name;\n        option.setAttribute('data-breed', element.name);\n        breedSelect.appendChild(option);\n      });\n      new SlimSelect({\n        select: '.breed-select',\n      });\n      toggleVisibility(loader, false);\n      toggleVisibility(breedSelect, true);\n    })\n    .catch(err => {\n      console.log(err);\n      showError();\n    });\n});\n\nbreedSelect.addEventListener('change', () => {\n  toggleVisibility(loader, true);\n  catInfo.innerHTML = '';\n  const breedId = breedSelect.value;\n  const selectedOption = breedSelect.options[breedSelect.selectedIndex];\n  const breedName = selectedOption.getAttribute('data-breed');\n  fetchCatByBreed(breedId)\n    .then(data => {\n      toggleVisibility(loader, false);\n\n      const catImage = `<img src='${data.data.url}' alt='${breedName} class= 'cat-image' />\n          <div class=\"breed-info\">\n              <h1>${breedName}</h1>\n              <p>${data.data.breeds[0].description}</p>\n              <p> <span class=\"bold\">Temperament: </span>${data.data.breeds[0].temperament}</p>\n          </div>`;\n      catInfo.innerHTML = catImage;\n    })\n    .catch(err => {\n      showError();\n      console.error(err.message);\n    });\n});\n\nfunction showError() {\n  iziToast.show({\n    timeout: 1500,\n    close: false,\n    title: 'Something went wrong, please try again',\n    titleColor: 'white',\n    backgroundColor: 'red',\n    position: 'topCenter',\n  });\n}\n"],"names":["axios","fetchBreeds","resp","err","fetchCatByBreed","breedId","breedSelect","catInfo","loader","toggleVisibility","element","show","data","option","SlimSelect","showError","breedName","catImage","iziToast"],"mappings":"+vBAEAA,EAAM,SAAS,QAAU,gCACzBA,EAAM,SAAS,QAAQ,OAAO,WAAW,EACvC,uEAEK,SAASC,GAAc,CAC5B,OAAOD,EACJ,IAAI,QAAQ,EACZ,KAAKE,GAAQA,EAAK,IAAI,EACtB,MAAMC,GAAO,CACZ,cAAQ,IAAIA,CAAG,EACTA,CACZ,CAAK,CACL,CAEO,SAASC,EAAgBC,EAAS,CACvC,OAAOL,EACJ,IAAI,WAAWK,CAAO,EAAE,EACxB,KAAKH,GAAQA,CAAI,EACjB,MAAMC,GAAO,QAAQ,IAAIA,CAAG,CAAC,CAClC,CCfA,MAAMG,EAAc,SAAS,cAAc,eAAe,EACpDC,EAAU,SAAS,cAAc,WAAW,EAC5CC,EAAS,SAAS,cAAc,cAAc,EAE9CC,EAAmB,CAACC,EAASC,IAAS,CAC1CD,EAAQ,UAAU,OAAO,SAAU,CAACC,CAAI,CAC1C,EAEAF,EAAiBH,EAAa,EAAK,EAEnC,SAAS,iBAAiB,mBAAoB,IAAM,CAClDL,EAAa,EACV,KAAKW,GAAQ,CACZA,EAAK,QAAQF,GAAW,CACtB,MAAMG,EAAS,SAAS,cAAc,QAAQ,EAC9CA,EAAO,MAAQH,EAAQ,mBACvBG,EAAO,YAAcH,EAAQ,KAC7BG,EAAO,aAAa,aAAcH,EAAQ,IAAI,EAC9CJ,EAAY,YAAYO,CAAM,CACtC,CAAO,EACD,IAAIC,EAAW,CACb,OAAQ,eAChB,CAAO,EACDL,EAAiBD,EAAQ,EAAK,EAC9BC,EAAiBH,EAAa,EAAI,CACxC,CAAK,EACA,MAAMH,GAAO,CACZ,QAAQ,IAAIA,CAAG,EACfY,GACN,CAAK,CACL,CAAC,EAEDT,EAAY,iBAAiB,SAAU,IAAM,CAC3CG,EAAiBD,EAAQ,EAAI,EAC7BD,EAAQ,UAAY,GACpB,MAAMF,EAAUC,EAAY,MAEtBU,EADiBV,EAAY,QAAQA,EAAY,aAAa,EACnC,aAAa,YAAY,EAC1DF,EAAgBC,CAAO,EACpB,KAAKO,GAAQ,CACZH,EAAiBD,EAAQ,EAAK,EAE9B,MAAMS,EAAW,aAAaL,EAAK,KAAK,GAAG,UAAUI,CAAS;AAAA;AAAA,oBAEhDA,CAAS;AAAA,mBACVJ,EAAK,KAAK,OAAO,CAAC,EAAE,WAAW;AAAA,2DACSA,EAAK,KAAK,OAAO,CAAC,EAAE,WAAW;AAAA,kBAEpFL,EAAQ,UAAYU,CAC1B,CAAK,EACA,MAAMd,GAAO,CACZY,IACA,QAAQ,MAAMZ,EAAI,OAAO,CAC/B,CAAK,CACL,CAAC,EAED,SAASY,GAAY,CACnBG,EAAS,KAAK,CACZ,QAAS,KACT,MAAO,GACP,MAAO,yCACP,WAAY,QACZ,gBAAiB,MACjB,SAAU,WACd,CAAG,CACH"}